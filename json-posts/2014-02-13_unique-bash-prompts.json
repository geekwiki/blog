---
title: Customize Your Bash Prompt
slug: unique-bash-prompts
create_date: 2014-02-13 08:56:47
tags: 
updates:
  username: 2
  date: 2014-02-13 08:56:47
  comment: Initial import of post from WP
---
### Bash Prompt
 The bash prompt, when customized, can be more useful than most people think. The default one that comes with most distros is pretty ugly and boring. The default is...  [bash]PS1='\s-\v\$ '[/bash]  Which looks like this when you're in the console: ![](http://www.linuxdigest.org/wp-content/uploads/PS1/default_bash_prompt.png) About as lame as it gets huh?  Heres what the modified one looks like. This was created by myself and some of the other administrators/moderators of this website. Whats cool about this one, (as opposed to the other one), is...
- It shows the current time in the console prompt
- It shows if the last command was a failure or a success (green/red checkbox)
- Shows the current working directory that you're in
- Shows the hostname of the server you're on
- Displays your UID (To prevent mistakingly executing commands as others)
  [bash]export PS1="\[\e[0m\][\[\033[1;30m\]\d \T\[\e[0m\]] \[\e[0m\]\[\e[0;92m\]\u@\h\[\e[0m\]:\[\e[0;94m\]\w\[\033[1;30m\]($(if [[$? == 0]]; then echo "\[\e[0;92m\]\342\234\223\[\e[0m\]"; else echo "\[\e[0;91m\]\342\234\227\[\e[0m\]"; fi)\[\033[1;30m\])\[\e[0m\]$ "[/bash]  Heres a picture of it with some examples from my ver own bash prompt! ![](http://www.linuxdigest.org/wp-content/uploads/PS1/bash_example.png)
### Changing Your Prompt
 You can test out new ones by just setting the _$PS1_ variable in your current shell session, then once you find the one you like, you make sure to set that prompt as the value of _PS1_ within _~/.bash\_profile_
#### More Prompt Strings
**Example #1**   [bash]export PS1="\s-\v\$ "[/bash]  ![](http://www.linuxdigest.org/wp-content/uploads/PS1/bash_example_1.png) **Example #2**  [bash]export PS1="\033[0;36m\T \[\033[1;30m\][\[\033[1;34m\]\u@\h\[\033[1;30m\]\[\033[0;32m\]\033[1;30m\]] \[\033[1;37m\]\w\[\033[0;37m\] \$ "[/bash]  ![](http://www.linuxdigest.org/wp-content/uploads/PS1/bash_example_2.png) **Example #3**  [bash]export PS1="${Color\_Off}[${Grey}\d \T${Color\_Off}] ${Color\_Off}${IGreen}\u@\h${Color\_Off}:${IBlue}\w${Grey}(\$(if [[\$? == 0]]; then echo \"${IGreen}\342\234\223${Color\_Off}\"; else echo \"${IRed}\342\234\227${Color\_Off}\"; fi)${Grey})${Color\_Off}\$ "[/bash]  ![](http://www.linuxdigest.org/wp-content/uploads/PS1/bash_example_3.png) **Example #4**  [bash]export PS1="\[\033[0;37m\]\342\224\214\342\224\200\$([[\$? != 0]] &amp;amp;amp;&amp;amp;amp; echo \"[\[\033[0;31m\]\342\234\227\[\033[0;37m\]]\342\224\200\")[$(if [[${EUID} == 0]]; then echo '\[\033[0;31m\]\h'; else echo '\[\033[0;33m\]\u\[\033[0;37m\]@\[\033[0;96m\]\h'; fi)\[\033[0;37m\]]\342\224\200[\[\033[0;32m\]\w\[\033[0;37m\]]\n\[\033[0;37m\]\342\224\224\342\224\200\342\224\200\342\225\274 \[\033[0m\]"[/bash]  ![](http://www.linuxdigest.org/wp-content/uploads/PS1/bash_example_4.png) **Example #5**  [bash]export PS1="$sq\_color\342\224\214\342\224\200\$([[\$? != 0]] &amp;amp;amp;&amp;amp;amp; echo \"[\[\033[01;37m\]\342\234\227$sq\_color]\342\224\200\")[\[\033[01;37m\]\t$sq\_color]\342\224\200[\[\033[01;37m\]\u@\h$sq\_color]\n\342\224\224\342\224\200\342\224\200&amp;amp;gt; \[\033[01;37m\]\W$sq\_color $ \[\033[01;37m\]&amp;amp;gt;&amp;amp;gt;\\[\\033[0m\\] "[/bash]  ![](http://www.linuxdigest.org/wp-content/uploads/PS1/bash_example_5.png) **Example #6**  [bash]export PS1="\n\$(if [[\$? == 0]]; then echo \"\[\033[0;34m\]\"; else echo \"\[\033[0;31m\]\"; fi)\342\226\210\342\226\210 [\W] [\t]\n\[\033[0m\]\342\226\210\342\226\210 "[/bash]  ![](http://www.linuxdigest.org/wp-content/uploads/PS1/bash_example_6.png) This ones boring **Example #7**  [bash]# I like this one a lot, but it takes too long to load # (atleast for something as simple as a prompt.. even a second is too long) export PS1="\n\[\033[1;37m\]\342\224\214($(if [[${EUID} == 0]]; then echo '\[\033[01;31m\]\h'; else echo '\[\033[01;34m\]\u@\h'; fi)\[\033[1;37m\])\342\224\200(\[\033[1;34m\]\$?\[\033[1;37m\])\342\224\200(\[\033[1;34m\]\@ \d\[\033[1;37m\])\[\033[1;37m\]\n\342\224\224\342\224\200(\[\033[1;32m\]\w\[\033[1;37m\])\342\224\200(\[\033[1;32m\]\$(ls -1 | wc -l | sed 's: ::g') files, \$(ls -sh | head -n1 | sed 's/total //')b\[\033[1;37m\])\342\224\200&amp;amp;gt; \[\033[0m\]"[/bash]  ![](http://www.linuxdigest.org/wp-content/uploads/PS1/bash_example_7.png) **Example #8**  [bash]export PS1="\[\e[01;32m\]\u@\h \[\e[01;34m\]\W \`if [\$? = 0]; then echo -e '\e[01;32m:)'; else echo -e '\e[01;31m:('; fi\` \[\e[01;34m\]$\[\e[00m\] "[/bash]  **![](http://www.linuxdigest.org/wp-content/uploads/PS1/bash_example_8.png)****Example #9**&nbsp;<small>Courtesy of mr Glenney</small>  [bash]export PS1="\[\033[01;32m\]\u|\[\033[01;35m\]\$?\[\033[01;34m\] \w \[\033[01;31m\]\$\[\033[00m\] "[/bash]  ![](http://www.linuxdigest.org/wp-content/uploads/PS1/bash_example_9.png)**Example #10**

    This is my personal favorite, it shows the timestamp, the # of the commands executed in the current session, username, hostname, current working directory, and a success/fail icon for the last command

  [bash]export PS1="\[\e[0m\][\[\033[1;30m\]\d \T\[\e[0m\]]\[\e[0m\]{\[\033[1;30m\]\#\[\e[0m\]} \[\e[0m\]\[\e[0;92m\]\u@\h\[\e[0m\]:\[\e[0;94m\]\w\[\033[1;30m\](\`if [\$? = 0]; then echo \"\[\e[0;92m\]\342\234\223\[\e[0m\]\"; else echo \"\[\e[0;91m\]\342\234\227\[\e[0m\]\"; fi\`\[\033[1;30m\])\[\e[0m\]$ "[/bash] 

    

**Example #11**

    This is what I have setup on most of my servers. Instead of setting up the $PS1 variable in the ~/.bash_profile or ~/.bashrc files, I created a bash script located at /etc/profile.d/prompt_color.sh, which will use the above prompt (example #10), unless the user is root, then it will use the same prompt, but it will change the username and host color from green to red. Code for the bash script is below.

  [bash]#!/bin/bash  if [$(id -u) -eq 0 &amp;amp;gt;/dev/null 2&amp;amp;gt;&amp;amp;amp;1]; then export PS1="\[\e[0m\][\[\033[1;30m\]\d \T\[\e[0m\]]\[\e[0m\]{\[\033[1;30m\]\#\[\e[0m\]} \[\e[31;1m\]\u@\h\[\e[0m\]:\[\e[0;94m\]\w\[\033[1;30m\](\`if [\$? = 0]; then echo \"\[\e[0;92m\]\342\234\223\[\e[0m\]\"; else echo \"\[\e[0;91m\]\342\234\227\[\e[0m\]\"; fi\`\[\033[1;30m\])\[\e[0m\]# " else export PS1="\[\e[0m\][\[\033[1;30m\]\d \T\[\e[0m\]]\[\e[0m\]{\[\033[1;30m\]\#\[\e[0m\]} \[\e[0m\]\[\e[0;92m\]\u@\h\[\e[0m\]:\[\e[0;94m\]\w\[\033[1;30m\](\`if [\$? = 0]; then echo \"\[\e[0;92m\]\342\234\223\[\e[0m\]\"; else echo \"\[\e[0;91m\]\342\234\227\[\e[0m\]\"; fi\`\[\033[1;30m\])\[\e[0m\]$ " fi[/bash]  ![](http://www.linuxdigest.org/wp-content/uploads/profiled-ps1-example.png) **Example #12**  This one may be a little overwhelming, but I think it's pretty useful. It displays:
- Total number of sessions on the server
- Date and time
- Execution time of last command
- Number of commands executed in the current session
- Username
- Hostname
- Current working directory
- Status code of last command (Green checkbox on success, otherwise, red numeric value)
- Also, the username@host changes from green to red if you sudo to root, just like in the previous examples
  [bash]#!/bin/bash # Create /etc/profile.d/prompt.sh and add the content of this gist to it. #  # Prompt example: # (2)[Fri May 06 10:00:30| 0:003]{4}root@ip-172-31-1-226:~(0)# # Format is: # (sessions on server)[date time| Last command exec time]{sessions on server}username@hostname:working\_directory(exit code of last cmd)# # # Example Output: http://d.pr/i/19B87 # # Credit: Original version was taken from http://stackoverflow.com/a/8464508/5154806 #  bold='\[\e[1m\]' plain='\[\e[0m\]'  set\_begin() { [[-z "$begin"]] && begin="$(date +"%s %N")" }  calc\_elapsed() { # Thresholds for command execution time (seconds) warn\_threshold='300' # 5 minutes danger\_threshold='3600' # 1 hour  read begin\_s begin\_ns \<\<\< "$begin" begin\_ns="${begin\_ns##+(0)}" # PENDING - date takes about 11ms, maybe could do better by digging in # /proc/$$.  read end\_s end\_ns \<\<\< $(date +"%s %N") end\_ns="${end\_ns##+(0)}" local s=$((end\_s - begin\_s)) local ms  [["$end\_ns" -ge "$begin\_ns"]] && ms=$(((end\_ns - begin\_ns) / 1000000)) || ( s=$((s - 1)); ms=$(((1000000000 + end\_ns - begin\_ns) / 1000000)) )  elapsed="$(printf " %2u:%03u" $s $ms)"  [["$s" -ge 300]] && elapsed="$elapsed [$(human\_time $s)]"  # If the last execution elapsed time is greater than one of the above thresholds, then # set the color to red or yellow if [[$s -gt $danger\_threshold]]; then elapsed="\[\e[31;1m\]$elapsed\[\e[0m\]" elif [[$s -gt $warn\_threshold]]; then elapsed="\[\e[33m\]$elapsed\[\e[0m\]" fi }  human\_time() { local s=$1 local days=$((s / (60\*60\*24))) s=$((s - days\*60\*60\*24)) local hours=$((s / (60\*60))) s=$((s - hours\*60\*60)) local min=$((s / 60))  [["$days" != 0]] && local day\_string="${days}d "  printf "$day\_string%02d:%02d\n" $hours $min }   timer\_prompt() { status=$? local size=16 sess\_count=$(who | wc -l) calc\_elapsed  [["${#PWD}" -gt $size]] && pwd\_string="${PWD: -$size}" || pwd\_string="$(printf "%${size}s" $PWD)"  if [[$(id -u) -eq 0]]; then color='\[\e[31;1m\]' suffix='#' else color='\[\e[0m\]\[\e[0;92m\]' suffix='$'  fi  PS1="(\[\033[1;30m\]$sess\_count\[\e[0m\])\[\e[0m\][\[\033[1;30m\]\d \T\[\e[0m\]|\[\e[0m\]$bold$elapsed]\[\e[0m\]{\[\033[1;30m\]\#\[\e[0m\]}$color\u@\h\[\e[0m\]:\[\e[0;94m\]\w\[\033[1;30m\](\`if [\$? = 0]; then echo \"\[\e[0;92m\]\342\234\223\[\e[0m\]\"; else echo \"\[\e[0;91m\]$status\[\e[0m\]\"; fi\`\[\033[1;30m\])\[\e[0m\]$suffix "  begin= }  set\_begin trap set\_begin DEBUG PROMPT\_COMMAND=timer\_prompt [/bash]  ![](http://www.linuxdigest.org/wp-content/uploads/custom-ps1-1.png)  [divider] [_I found a useful PS1 generator here, incase anyones interested_](http://www.kirsle.net/wizards/ps1.html) **Instead of changing the _$PS1_ variable inside your ~/.bash\_prompt file every time you find a new one you like** , I decided to throw multiple _$PS1_ values inside of an array, that way, whenever you want to change it, you can change the array key.. Check er out!..  [bash]# Multiple bash prompts bash\_prompt[0]="${Color\_Off}[${Grey}\d \T${Color\_Off}] ${Color\_Off}${IGreen}\u@\h${Color\_Off}:${IBlue}\w${Grey}(\$(if [[\$? == 0]]; then echo \"${IGreen}\342\234\223${Color\_Off}\"; else echo \"${IRed}\342\234\227${Color\_Off}\"; fi)${Grey})${Color\_Off}\$ " bash\_prompt[1]="\s-\v\$ " bash\_prompt[2]="\[\e[0m\][\[\033[1;30m\]\d \T\[\e[0m\]] \[\e[0m\]\[\e[0;92m\]\u@\h\[\e[0m\]:\[\e[0;94m\]\w\[\033[1;30m\]($(if [[$? == 0]]; then echo "\[\e[0;92m\]\342\234\223\[\e[0m\]"; else echo "\[\e[0;91m\]\342\234\227\[\e[0m\]"; fi)\[\033[1;30m\])\[\e[0m\]$" bash\_prompt[3]="\s-\v\$ " bash\_prompt[4]="\033[0;36m\T \[\033[1;30m\][\[\033[1;34m\]\u@\h\[\033[1;30m\]\[\033[0;32m\]\033[1;30m\]] \[\033[1;37m\]\w\[\033[0;37m\] \$ " bash\_prompt[5]="\[\033[0;37m\]\342\224\214\342\224\200\$([[\$? != 0]] &amp;amp;amp;&amp;amp;amp; echo \"[\[\033[0;31m\]\342\234\227\[\033[0;37m\]]\342\224\200\")[$(if [[${EUID} == 0]]; then echo '\[\033[0;31m\]\h'; else echo '\[\033[0;33m\]\u\[\033[0;37m\]@\[\033[0;96m\]\h'; fi)\[\033[0;37m\]]\342\224\200[\[\033[0;32m\]\w\[\033[0;37m\]]\n\[\033[0;37m\]\342\224\224\342\224\200\342\224\200\342\225\274 \[\033[0m\]" bash\_prompt[6]="$sq\_color\342\224\214\342\224\200\$([[\$? != 0]] &amp;amp;amp;&amp;amp;amp; echo \"[\[\033[01;37m\]\342\234\227$sq\_color]\342\224\200\")[\[\033[01;37m\]\t$sq\_color]\342\224\200[\[\033[01;37m\]\u@\h$sq\_color]\n\342\224\224\342\224\200\342\224\200&amp;amp;gt; \[\033[01;37m\]\W$sq\_color $ \[\033[01;37m\]&amp;amp;gt;&amp;amp;gt;\\[\\033[0m\\] " bash\_prompt[7]="\n\$(if [[\$? == 0]]; then echo \"\[\033[0;34m\]\"; else echo \"\[\033[0;31m\]\"; fi)\342\226\210\342\226\210 [\W] [\t]\n\[\033[0m\]\342\226\210\342\226\210 " bash\_prompt[8]="\n\[\033[1;37m\]\342\224\214($(if [[${EUID} == 0]]; then echo '\[\033[01;31m\]\h'; else echo '\[\033[01;34m\]\u@\h'; fi)\[\033[1;37m\])\342\224\200(\[\033[1;34m\]\$?\[\033[1;37m\])\342\224\200(\[\033[1;34m\]\@ \d\[\033[1;37m\])\[\033[1;37m\]\n\342\224\224\342\224\200(\[\033[1;32m\]\w\[\033[1;37m\])\342\224\200(\[\033[1;32m\]\$(ls -1 | wc -l | sed 's: ::g') files, \$(ls -sh | head -n1 | sed 's/total //')b\[\033[1;37m\])\342\224\200&amp;amp;gt; \[\033[0m\]" bash\_prompt[9]="\[\e[01;32m\]\u@\h \[\e[01;34m\]\W \`if [\$? = 0]; then echo -e '\e[01;32m:)'; else echo -e '\e[01;31m:('; fi\` \[\e[01;34m\]$\[\e[00m\] " bash\_prompt[10]="\[\033[01;32m\]\u|\[\033[01;35m\]\$?\[\033[01;34m\] \w \[\033[01;31m\]\$\[\033[00m\] "  # Change the key valye to match the desired PS1 value above export PS1=${bash\_prompt[2]}[/bash]  Makes it **MUCH** easier!
### What Are The Other Prompts
 I guess since I'm explaining _$PS1_ n depth, I could go a bit further.**_PS#.._**
1. **PS1** - Default interaction prompt. The default interactive prompt on your Linux can be modified as shown below to something useful and informative.
2. **PS2** - Continuation interactive prompt. A very long unix command can be broken down to multiple line by giving \ at the end of the line. The default interactive prompt for a multi-line command is “\> “.
3. **PS3** - Prompt used by "select" inside shell script. You can define a custom prompt for the select loop inside a shell script, using the PS3 environment variable.
4. **PS4** - Used by "set -x" to prefix tracing output. The PS4 shell variable defines the prompt that gets displayed, when you execute a shell script in debug mode.
5. **PS5** - PROMPT\_COMMAND. Bash shell executes the content of the PROMPT\_COMMAND just before displaying the PS1 variable.
 Sources: [kristie.net](http://www.kirsle.net/wizards/ps1.html)